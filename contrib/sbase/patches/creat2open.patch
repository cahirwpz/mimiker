Index: sbase/sbase/libutil/cp.c
===================================================================
--- sbase.orig/sbase/libutil/cp.c	2022-12-06 19:10:45.123093136 +0100
+++ sbase/sbase/libutil/cp.c	2022-12-07 22:19:23.039798679 +0100
@@ -111,14 +111,14 @@
 			cp_status = 1;
 			return 0;
 		}
-		if ((f2 = creat(s2, st.st_mode)) < 0 && cp_fflag) {
+		if ((f2 = open(s2, O_CREAT|O_WRONLY|O_TRUNC, st.st_mode)) < 0 && cp_fflag) {
 			if (unlink(s2) < 0 && errno != ENOENT) {
 				weprintf("unlink %s:", s2);
 				cp_status = 1;
 				close(f1);
 				return 0;
 			}
-			f2 = creat(s2, st.st_mode);
+			f2 = open(s2, O_CREAT|O_WRONLY|O_TRUNC, st.st_mode);
 		}
 		if (f2 < 0) {
 			weprintf("creat %s:", s2);
Index: sbase/sbase/sponge.c
===================================================================
--- sbase.orig/sbase/sponge.c	2022-12-06 20:19:09.729623970 +0100
+++ sbase/sbase/sponge.c	2022-12-07 22:19:16.833132218 +0100
@@ -33,7 +33,7 @@
 	if (lseek(tmpfd, 0, SEEK_SET) < 0)
 		eprintf("lseek:");
 
-	if ((fd = creat(argv[0], 0666)) < 0)
+	if ((fd = open(argv[0], O_CREAT|O_WRONLY|O_TRUNC, 0666)) < 0)
 		eprintf("creat %s:", argv[0]);
 	if (concat(tmpfd, "<tmpfile>", fd, argv[0]) < 0)
 		return 1;
Index: sbase/sbase/xinstall.c
===================================================================
--- sbase.orig/sbase/xinstall.c	2022-12-06 20:19:09.729623970 +0100
+++ sbase/sbase/xinstall.c	2022-12-07 22:19:16.839798884 +0100
@@ -47,10 +47,10 @@
 
 	if ((f1 = open(s1, O_RDONLY)) < 0)
 		eprintf("open %s:", s1);
-	if ((f2 = creat(s2, 0600)) < 0) {
+	if ((f2 = open(s2, O_CREAT|O_WRONLY|O_TRUNC, 0600)) < 0) {
 		if (unlink(s2) < 0 && errno != ENOENT)
 			eprintf("unlink %s:", s2);
-		if ((f2 = creat(s2, 0600)) < 0)
+		if ((f2 = open(s2, O_CREAT|O_WRONLY|O_TRUNC, 0600)) < 0)
 			eprintf("creat %s:", s2);
 	}
 	if (concat(f1, s1, f2, s2) < 0)
