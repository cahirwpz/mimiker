Index: st/st/input.c
===================================================================
--- /dev/null	1970-01-01 00:00:00.000000000 +0000
+++ st/st/input.c	2023-08-14 18:24:56.563999968 +0200
@@ -0,0 +1,49 @@
+#include "input.h"
+
+#include <sys/types.h>
+#include <sys/input.h>
+#include <wchar.h>
+#include <fcntl.h>
+#include <unistd.h>
+#include <stdio.h>
+
+#include "kbio.h"
+#include "kdbtable.h"
+
+#include "st.h"
+
+struct {
+  int fd;
+} input;
+
+static void handle_event(struct input_event *ie) {
+  char buf[64];
+
+  if (ie->type != EV_KEY)
+    return;
+
+  return;
+  if (ie->value != 0) {
+    buf[0] = key_map.key[ie->code].map[0];
+    buf[1] = 0;
+    ttywrite(buf, 1, 1);
+  }
+}
+
+int input_init(const char *ev_dev) {
+  if ((input.fd = open(ev_dev, O_RDONLY)) < 0)
+    return 0;
+  return 1;
+}
+
+void input_read(void) {
+  struct input_event ie;
+  int ret;
+
+  if ((ret = read(input.fd, &ie, sizeof(struct input_event))) > 0)
+    handle_event(&ie);
+}
+
+int input_getfd(void) {
+  return input.fd;
+}
\ No newline at end of file
