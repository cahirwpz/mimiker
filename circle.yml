machine:
  pre:
    - pyenv local 3.6.1
    - virtualenv venv
  environment:
    PATH: "/opt/mipsel-mimiker-elf/bin/:$PATH"

dependencies:
  pre:
    - sudo apt-get -qq update
    - sudo apt-get install -y qemu-system-mips ctags cscope wget python3-pip clang-format-3.8
    - sudo pip3 install -I pexpect pep8
    - wget http://mimiker.ii.uni.wroc.pl/download/mipsel-mimiker-elf_1.1_amd64.deb
    - sudo dpkg -i mipsel-mimiker-elf_1.1_amd64.deb

test:
  pre:
    - make
  override:
    - ./verify-format.sh
    - ./verify-pep8.sh
    - ./run_tests.py --thorough
      
    